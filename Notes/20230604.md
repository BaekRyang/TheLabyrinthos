# 20230604 Logs
1. 전투씬 애니메이션 구현  
   기존에 애니메이션 Enable -> Disable을 체이닝 하는 방식으로 구현했었는데, 해당 방식은 플레이어나 크리쳐의 체력이 소진되어도  
   애니메이션이 끝날 때까지 기다려야 했기 때문에, `공격 -> 조건 체크` 과정을 추가하여 애니메이션을 끊어서 구현했다.  
   만약 플레이어나 크리쳐의 체력이 소진되면, 애니메이션을 중간까지만 재생하고 화면을 페이드 아웃 시켜서 자연스럽게 전투를 종료하도록 구현했다.

2. GameOver 구현  
   **!UnderConstruction!**  
   플레이어 사망시 결과를 보여줄 GameOver 창을 구현했다.  
   우선은 Retry와 BackToLobby 버튼만 구현해놓았고, 플레이어의 통계를 보여줄 예정

3. Retry 구현
   현재씬을 다시 로드하면 기존에 있는 정적 변수들도 전부 사라지는줄 알았는데 **사라지지 않고** 그대로 남아있다.  
   그래서 static 변수는 대부분 특정 Component Instance를 가리키는데 또 해당 컴포넌트는 Destroy되어서 NullReferenceException이 발생한다.  
   그런데 그렇다고 Instance가 null이 된 컴포넌트를 가리키는 것이지 null이 된것은 아니므로 Awake에서 nullCheck를 하고 인스턴스를 만들어줄때  
   인스턴스를 만들어주지 않는 문제가 있었다. 그래서 Reset이나 BackToLobby를 할때 각 요소들의 Instance 변수를 null로 초기화 해주었다.
   또 CSVReader에서 이미 읽은 데이터를 저장해놓는 static 변수도 있었는데, 이건 굳이 초기화 할 필요가 없으니까 만약 데이터가 1개 이상이라면 데이터 로딩을 하지 않도록 구현했다. 이 시점에서 인벤토리와 무기 인벤토리를 Clear 해준다.

   플레이어 스텟 인스턴스는 Awake에서 초기화 되어서 신경쓸 필요 없음

4. PopUp UI Patch
   기존 방식을 전부 삭제하고, PopUpManager를 만들어서 여기서 전부 관리하도록 수정했음  
   아이템과 설명 창의 제목과 설명의 크기를 맞춰주었고, 무기 상세 설명창의 위치를 설명창 아래로 오게 수정하였으며 해당 창의 크기도 동시에 조절됨  
   해당 UI의 위치값 변경이 사용하는 각 오브젝트가 아닌 PopUpManager에서 전부 관리하도록 수정함

5. 인벤토리 무기창 변경
   이제 착용하고 있는 무기를 인벤토리에 표시하지 않음 이 작업으로 착용중인 무기에 상호작용하여 문제를 발생시키는 일을 차단함

6. 제작대 UI 변경
   PopUpUI 시스템이 변경되면서 제작대에서는 설명을 표시하지 않으니깐 칸이 너무 작아져서 이상하게 출력되는 문제가 있었음.  
   그래서 아이템 설명도 동시에 출력하도록 수정하였고, 아이템 재료가 무엇인지 명확하도록 색과 설명을 추가하였음